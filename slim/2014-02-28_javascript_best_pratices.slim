doctype html
html
  head
    meta charset="utf-8"
    title Provisioning, deployment, and whatever else i can think of
    meta content="A bunch of slides about provisioning" name="description"
    meta content="Miguel Palhas" name="author"
    meta content="yes" name="apple-mobile-web-app-capable"
    meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"
    meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" name="viewport"
    link href="css/reveal.min.css" rel="stylesheet"
    link href="css/2014-02-28_javascript_best_practices.css" rel="stylesheet"

    /! For syntax highlighting
    link href="lib/css/tomorrow.css" rel="stylesheet"

    /! If the query includes 'print-pdf', use the PDF print sheet
    javascript:
      document.write( '' );
    /![if lt IE 9]
      | <script src="lib/js/html5shiv.js"></script>

  body
    .reveal
      .slides
        section data={ state: :intro }
          h1 Javascript (Best) Practices

        section
          table.full-table
            h1 Our template
            tr
              td
                pre: code.coffeescript
                  |
                    # app/javascripts/feature.coffee
                    $ ->
                      feature =
                        init: ->
                          doSomeInitialization()
                          setupSomeEvents()

                      window.project ||= {}
                      window.project.feature = feature.init
              td
                pre: code.coffeescript
                  |
                    # app/views/some/view.slim
                    coffee:
                      $ ->
                        window.project.feature()

        section
          h1 Doesn't look so bad, right?
          pre.middle: code.coffeescript
            |
              # app/javascripts/feature.coffee
              $ ->
                feature =
                  init: ->
                    doSomeInitialization()
                    setupSomeEvents()

                window.project ||= {}
                window.project.feature = feature.init

        section
          h1 Let's see a more complete example

        section
          pre.middle: code.coffeescript
            = Slim::Template.new('test.slim', {}).render(self)


    script src="lib/js/head.min.js"
    script src="js/reveal.min.js"
    javascript:
      Reveal.initialize({
        width: 800,
        height: 600,
        controls: true,
        progress: true,
        history: true,
        center: true,

        theme: 'solarized', // available themes are in /css/theme
        transition: Reveal.getQueryHash().transition || 'fade', // default/cube/page/concave/zoom/linear/fade/none

        dependencies: [
          { src: 'lib/js/classList.js', condition: function() { return !document.body.classList; } },
          { src: 'plugin/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
          { src: 'plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
          { src: 'plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } },
          { src: 'plugin/zoom-js/zoom.js', async: true, condition: function() { return !!document.body.classList; } },
          { src: 'plugin/notes/notes.js', async: true, condition: function() { return !!document.body.classList; } }
          /* /!/ { src: 'plugin/search/search.js', async: true, condition: function() { return !!document.body.classList; } } */
          /* /!/ { src: 'plugin/remotes/remotes.js', async: true, condition: function() { return !!document.body.classList; } } */
        ]
      });
